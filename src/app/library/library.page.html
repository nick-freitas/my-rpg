<div class="container page-container">
  <div>
    <h1 class="display-4">Library</h1>

    <p class="lead">
      Go back to the <a routerLink="/">store</a> to find more adventures, or use
      the search bar on the top to look for something specific.
    </p>
  </div>

  <div class="list-group" *ngIf="!(gamebooks$ | async)?.length">
    <li class="list-group-item list-group-item-action disabled">
      <div class="item-content d-flex flex-column w-100">
        <div class="d-flex w-100 justify-content-between">
          <h5 class="mb-1">You haven't picked up any adventures yet</h5>
        </div>
      </div>
    </li>
  </div>

  <div class="list-group" *ngIf="(gamebooks$ | async) as gamebooks">
    <a
      [routerLink]="['/gamebook/', gamebook.id]"
      class="list-group-item list-group-item-action d-flex flex-row"
      aria-current="true"
      *ngFor="let gamebook of gamebooks"
    >
      <div class="item-content d-flex flex-column w-100">
        <div class="d-flex w-100 justify-content-between">
          <h5 class="mb-1">{{ gamebook.name }}</h5>
          <small>{{ gamebook.published | date }}</small>
        </div>
        <p class="mb-1">{{ gamebook.description | slice: 0:30 }}...</p>
        <div class="d-flex justify-content-between">
          <small>
            {{ (this.userService.getPublicUserInfo(gamebook.author) |
            async)?.name }}
          </small>
          <small style="font-style: italic" *ngIf="gamebook.series"
            >{{ gamebook.series }}
          </small>
        </div>
      </div>
    </a>
  </div>
</div>
